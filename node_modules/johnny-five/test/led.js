var SerialPort = require("./mock-serial").SerialPort,
    five = require("../lib/johnny-five.js"),
    serial = new SerialPort("/path/to/fake/usb"),
    board = new five.Board({
      debug: true,
      mock: serial
    }),
    led;

exports["Led"] = {
  "init": function( test ) {
    test.expect(1);

console.log( board );
    led = new five.Led({ pin: 13, board: board });

    test.ok(led.on);

    test.done();
  },
  "on": function( test ) {

    board.pinMode(2,board.MODES.INPUT);
    serialPort.lastWrite[0].should.equal(0xF4);
    serialPort.lastWrite[1].should.equal(2);
    serialPort.lastWrite[2].should.equal(board.MODES.INPUT);
    board.pins[2].mode.should.equal(board.MODES.INPUT);

  }

};
